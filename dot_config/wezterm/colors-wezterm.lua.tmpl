-- WezTerm Colors - Generated by theme system
-- Single source of truth for all themes (static and dynamic)

local colors = {}

{{- if eq .theme.name "dynamic" }}
-- Dynamic theme: Material Design 3 colors from matugen
colors.foreground = "{{ .theme.material.on_surface }}"
colors.background = "{{ .theme.material.background }}"

colors.cursor_bg = "{{ .theme.material.primary }}"
colors.cursor_fg = "{{ .theme.material.on_primary }}"
colors.cursor_border = "{{ .theme.material.primary }}"

colors.selection_bg = "{{ .theme.material.primary_container }}"
colors.selection_fg = "{{ .theme.material.on_primary_container }}"

{{- if eq .theme.variant "light" }}
-- Light mode: Use base colors (dark in light mode) for visibility on light backgrounds  
colors.ansi = {
  "{{ .theme.material.outline }}",                 -- black (dark gray)
  "{{ .theme.material.error }}",                   -- red (dark red)
  "{{ .theme.material.tertiary }}",                -- green (dark olive/brown)
  "{{ .theme.material.secondary }}",               -- yellow (dark mauve/brown)
  "{{ .theme.material.primary }}",                 -- blue (dark rose/blue)
  "{{ .theme.material.tertiary }}",                -- magenta (dark olive)
  "{{ .theme.material.primary }}",                 -- cyan (dark rose/blue)
  "{{ .theme.material.on_surface }}",              -- white (very dark text)
}

colors.brights = {
  "{{ .theme.material.outline }}",                 -- bright black (medium gray)
  "{{ .theme.material.error }}",                   -- bright red (dark red)
  "{{ .theme.material.tertiary }}",                -- bright green (dark olive)
  "{{ .theme.material.secondary }}",               -- bright yellow (dark mauve)
  "{{ .theme.material.primary }}",                 -- bright blue (dark rose)
  "{{ .theme.material.tertiary }}",                -- bright magenta (dark olive)
  "{{ .theme.material.primary }}",                 -- bright cyan (dark rose)
  "{{ .theme.material.on_surface }}",              -- bright white (very dark text)
}
{{- else }}
-- Dark mode: Use lighter colors for visibility on dark backgrounds
colors.ansi = {
  "{{ .theme.material.outline }}",           -- black (medium gray)
  "{{ .theme.material.error }}",             -- red (salmon pink)
  "{{ .theme.material.tertiary }}",          -- green (light purple)
  "{{ .theme.material.secondary }}",         -- yellow (blue-gray)
  "{{ .theme.material.primary }}",           -- blue (light blue)
  "{{ .theme.material.tertiary_fixed }}",    -- magenta (very light purple)
  "{{ .theme.material.primary_fixed }}",     -- cyan (very light blue)
  "{{ .theme.material.on_surface }}",        -- white (light gray)
}

colors.brights = {
  "{{ .theme.material.outline }}",           -- bright black (medium gray)
  "{{ .theme.material.error }}",             -- bright red (salmon pink)
  "{{ .theme.material.tertiary_fixed }}",    -- bright green (very light purple)
  "{{ .theme.material.secondary_fixed }}",   -- bright yellow (very light blue-gray)
  "{{ .theme.material.primary_fixed }}",     -- bright blue (very light blue)
  "{{ .theme.material.tertiary_fixed }}",    -- bright magenta (very light purple)
  "{{ .theme.material.primary_fixed }}",     -- bright cyan (very light blue)
  "{{ .theme.material.on_surface_variant }}", -- bright white (medium light gray)
}
{{- end }}

{{- else }}
-- Static theme: Catppuccin {{ .theme.name | title }} with Mauve accents
colors.foreground = "{{ .theme.colors.text }}"
colors.background = "{{ .theme.colors.base }}"

colors.cursor_bg = "{{ .theme.colors.mauve }}"
colors.cursor_fg = "{{ .theme.colors.crust }}"
colors.cursor_border = "{{ .theme.colors.mauve }}"

colors.selection_bg = "{{ .theme.colors.surface2 }}"
colors.selection_fg = "{{ .theme.colors.text }}"

colors.split = "{{ .theme.colors.mauve }}"

-- Catppuccin ANSI colors
colors.ansi = {
  "{{ .theme.colors.surface1 }}",  -- black
  "{{ .theme.colors.red }}",       -- red
  "{{ .theme.colors.green }}",     -- green
  "{{ .theme.colors.yellow }}",    -- yellow
  "{{ .theme.colors.blue }}",      -- blue
  "{{ .theme.colors.mauve }}",     -- magenta (Mauve!)
  "{{ .theme.colors.teal }}",      -- cyan
  "{{ .theme.colors.subtext1 }}",  -- white
}

colors.brights = {
  "{{ .theme.colors.surface2 }}",  -- bright black
  "{{ .theme.colors.red }}",       -- bright red
  "{{ .theme.colors.green }}",     -- bright green
  "{{ .theme.colors.yellow }}",    -- bright yellow
  "{{ .theme.colors.blue }}",      -- bright blue
  "{{ .theme.colors.mauve }}",     -- bright magenta (Mauve!)
  "{{ .theme.colors.teal }}",      -- bright cyan
  "{{ .theme.colors.subtext0 }}",  -- bright white
}

{{- end }}

return colors
